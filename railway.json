{
  "$schema": "https://railway.app/railway.schema.json",
  "build": {
    "builder": "DOCKERFILE"
  },
  "deploy": {
    "startCommand": "redis-stack-server /usr/local/etc/redis/redis.conf",
    "healthcheckTimeout": 300,
    "restartPolicyType": "ON_FAILURE",
    "restartPolicyMaxRetries": 10
  },
  "volumes": [
    {
      "name": "redis-data",
      "mountPath": "/data",
      "description": "Persistent storage for Redis data"
    }
  ],
  "variables": {
    "REDIS_USERNAME": {
      "description": "Redis username for authentication",
      "default": "default",
      "required": false
    },
    "REDIS_PASSWORD": {
      "description": "Redis password for authentication (required for production)",
      "default": "changeme",
      "required": true
    },
    "REDIS_DB": {
      "description": "Redis database number",
      "default": "0",
      "required": false
    },
    "REDIS_PORT": {
      "description": "Redis port number",
      "default": "6379",
      "required": false
    },
    "REDIS_STACK_UI_PORT": {
      "description": "Redis Stack UI port",
      "default": "8001",
      "required": false
    }
  }
}
